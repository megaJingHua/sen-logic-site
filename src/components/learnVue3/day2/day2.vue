<template>
  <MobileOnly>
    <div
      class="learn-page min-h-screen bg-[#f8f8e8] py-8 px-2 flex flex-col items-center font-sans text-[#2f5133]"
    >
      <div class="w-full text-left text-justify">
        <div class="title-row">
          <RouterLink to="/mom-share" class="back-icon-btn" aria-label="å›é¦–é ">
            <!-- ä½¿ç”¨ SVG icon -->
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="#4b814b"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M15 18l-6-6 6-6" />
            </svg>
          </RouterLink>
          <h2 class="text-2xl md:text-4xl font-bold">
            Day2 çµ„ä»¶æ˜¯ä»€éº¼ï¼Ÿæˆ‘ç‚ºä»€éº¼è¦æ‹†ï¼Ÿ
          </h2>
        </div>
        <div class="day-content mb-4 text-[#3a5a40]">
          ä½ å¯ä»¥æŠŠç¶²é æƒ³åƒæˆä¸€å€‹æ¨‚é«˜ç©æœ¨åŸå ¡ã€‚
          æ¯å€‹ã€Œç©æœ¨ã€å°±æ˜¯ä¸€å€‹çµ„ä»¶ï¼ˆcomponentï¼‰
          æ¯”å¦‚ï¼šæŒ‰éˆ•æ˜¯ä¸€å¡Šç©æœ¨ã€è¼¸å…¥æ¡†æ˜¯ä¸€å¡Šç©æœ¨ã€å¾…è¾¦æ¸…å–®çš„æ¯ä¸€é …ä¹Ÿæ˜¯ä¸€å¡Šç©æœ¨ã€‚<br /><br />ä»Šå¤©å¸¶ä½ ç”¨æœ€ç°¡å–®çš„ä¾‹å­
          â€”â€”ã€ŒTodo Listã€ä¾†å­¸æœƒï¼šâœ…çµ„ä»¶æ‹†åˆ† âœ…çˆ¶å­å‚³å€¼ âœ…ç”¨ props å‚³è³‡æ–™ï¼Œç”¨
          emit å›å ±è¨Šæ¯ï¼
          <h2 class="text-xl font-bold text-[#4b814b] mt-6 mb-2">
            ğŸ§¸ ç‚ºä»€éº¼è¦æ‹†æˆå°çµ„ä»¶ï¼Ÿ
          </h2>
          <p>
            ğŸ‘‰ å¥½æ•´ç†ã€å¥½ç¶­ä¿®ã€å¥½é‡è¤‡ä½¿ç”¨ï¼<br />
            å°±åƒåšä¾¿ç•¶ï¼Œå¦‚æœæ¯ä¸€æ ¼éƒ½åšå¥½åˆ‡åˆ†ï¼Œæ”¾è‚‰æ”¾èœæ”¾é£¯éƒ½äº•äº•æœ‰æ¢ï½
            å‡ºéŒ¯ä¹Ÿåªè¦æª¢æŸ¥é‚£ä¸€æ ¼ï¼
          </p>
          <h2 class="text-xl font-bold text-[#4b814b] mt-6 mb-2">
            ğŸ“® çµ„ä»¶ä¹‹é–“æ€éº¼è¬›è©±ï¼Ÿï¼ˆè³‡æ–™æ€éº¼äº’å‚³ï¼Ÿï¼‰
          </h2>
          <p>
            ç”¨ä¸€å€‹ã€Œçˆ¸çˆ¸å’Œå°å­©ã€çš„æ•…äº‹ä¾†æ¯”å–»ï¼š<br />
            çˆ¸çˆ¸å‚³ç©å…·çµ¦å°å­©ï¼Œçˆ¸çˆ¸èªªï¼šã€Œä¾†ï¼Œé€™æ˜¯ä½ çš„ç©å…·ã€(åœ¨ Vue è£¡ç”¨props)<br />
            å°å­©èˆ‰æ‰‹èªªæƒ³å–æ°´ï¼Œå°å­©ï¼šã€Œåª½åª½ï¼Œæˆ‘å£æ¸´å•¦ï½ã€(åœ¨ Vue è£¡ç”¨ emit)<br />
            <br />
            âœ…<strong>çˆ¶ â†’ å­ ç”¨ propsï¼Œå­ â†’ çˆ¶ ç”¨ emit</strong><br />
            é€™æ˜¯çµ„ä»¶åŒ–æ‹†åˆ†æ™‚ï¼Œæœ€å¸¸ç”¨åˆ°çš„è³‡æ–™æµå‹•æ–¹å¼ã€‚
          </p>
          <h2 class="text-xl font-bold text-[#4b814b] mt-6 mb-2">
            å·¥ç¨‹å¸«éƒ½ä¸çŸ¥é“çš„å†·çŸ¥è­˜
          </h2>
          <p>
            <strong
              >ğŸ§  ç‚ºä»€éº¼å«ã€Œçˆ¶å­çµ„ä»¶ï¼ˆparent-childï¼‰ã€è€Œä¸æ˜¯ã€Œæ¯å­ã€ï¼Ÿ</strong
            >
            é€™å…¶å¯¦æ˜¯ç¨‹å¼ä¸–ç•Œçš„<strong>ç¿’æ…£ç”¨èªï¼ˆconventionï¼‰</strong>ï¼Œæºè‡ªæ–¼ï¼š<br /><br />
            1.
            <strong>æ—©æœŸçš„é›»è…¦ç§‘å­¸ï¼ˆComputer Scienceï¼‰ç”¨è©</strong
            >å¤§å¤šæ˜¯ç”·æ€§ä¸»å°çš„é ˜åŸŸï¼Œèªè¨€æ¶æ§‹ä¹Ÿåé™½æ€§åŒ–ï¼Œåƒã€Œmaster/slaveã€ã€ã€Œfather/sonã€ã€ã€Œman-in-the-middleã€é€™é¡æ¯”å–»æ™®éå­˜åœ¨ã€‚
            <br /><br />2. åœ¨ç¨‹å¼èªè¨€ä¸­ï¼Œã€ŒParent-Childã€çµæ§‹å¸¸å¸¸ä»£è¡¨ï¼š -
            <strong>Parentï¼ˆçˆ¶çµ„ä»¶ï¼‰</strong
            >ï¼šæ“æœ‰æ•´é«”æ¶æ§‹èˆ‡æ§åˆ¶æ¬Šï¼Œè² è²¬å‚³å€¼ã€ç®¡ç†é‚è¼¯ã€‚ -
            <strong>Childï¼ˆå­çµ„ä»¶ï¼‰</strong>ï¼šæ¥æ”¶è³‡æ–™ã€åŸ·è¡ŒåŠŸèƒ½ã€å‘ä¸Šå›å ±ã€‚
            <br /><br />3. è‹±æ–‡çš„ "parent"
            å…¶å¯¦æ˜¯ã€Œé›™è¦ªã€çš„æ„æ€ï¼Œä½†åœ¨ä¸­æ–‡èªå¢ƒä¸­ç¿’æ…£ç›´è­¯ç‚ºã€Œçˆ¶ã€ï¼Œæ‰€ä»¥ä¹…è€Œä¹…ä¹‹å°±å«æˆã€Œçˆ¶å­é—œä¿‚ã€ã€‚
          </p>

          <h2 class="text-xl font-bold text-[#4b814b] mt-6 mb-2">
            ğŸ“¦ä»Šå¤©çš„å¯¦ä½œæ˜¯ä»€éº¼?
          </h2>
          <p>
            å¯¦ä½œã€ŒTodo Listã€ï¼š <br />âœ… å¯è¼¸å…¥å¾…è¾¦äº‹é … <br />âœ…
            æŒ‰ä¸‹æŒ‰éˆ•æ–°å¢åˆ°åˆ—è¡¨ <br />âœ… ä½¿ç”¨å­çµ„ä»¶é¡¯ç¤ºæ¯ä¸€å€‹ Todo é …ç›® <br />âœ…
            é»æ“Šé …ç›®å¯åˆªé™¤
          </p>
          <b>å°åŠŸèƒ½ Demo:</b> <br />
          <div
            class="demo-block bg-[#f8f8e8] rounded-lg p-4 overflow-x-auto text-sm mb-4"
          >
            <div class="todo">
              <input
                v-model="newTodo"
                placeholder="è¼¸å…¥å¾…è¾¦äº‹é …"
                @keyup.enter="addTodo"
              />
              <button @click="addTodo">æ–°å¢</button>

              <ul>
                <TodoItem
                  v-for="(todo, index) in todos"
                  :key="index"
                  :item="todo"
                  :index="index"
                  @delete="deleteTodo"
                />
              </ul>
            </div>
          </div>
          <b>ç¨‹å¼ç¢¼ Demo:</b> <br />
          éœ€è¦å…©å€‹.vue æª”æ¡ˆï¼Œä¸€å€‹æ˜¯çˆ¶çµ„ä»¶ï¼Œä¸€å€‹æ˜¯å­çµ„ä»¶ã€‚<br />
          <br />
                      <strong>Todo.vue (çˆ¶çµ„ä»¶)</strong>
            <pre
              v-pre
              class="code-block bg-[#1e1e1e] rounded-lg p-4 overflow-x-auto text-sm mb-4 text-white"
            ><code><span style="color: #569cd6;">&lt;template&gt;</span>
  <span style="color: #569cd6;">&lt;div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"todo"</span><span style="color: #569cd6;">&gt;</span>
    <span style="color: #569cd6;">&lt;input</span>
      <span style="color: #9cdcfe;">v-model</span>=<span style="color: #ce9178;">"newTodo"</span>
      <span style="color: #9cdcfe;">placeholder</span>=<span style="color: #ce9178;">"è¼¸å…¥å¾…è¾¦äº‹é …"</span>
      <span style="color: #9cdcfe;">@keyup.enter</span>=<span style="color: #ce9178;">"addTodo"</span>
    <span style="color: #569cd6;">/&gt;</span>
    <span style="color: #569cd6;">&lt;button</span> <span style="color: #9cdcfe;">@click</span>=<span style="color: #ce9178;">"addTodo"</span><span style="color: #569cd6;">&gt;</span>æ–°å¢<span style="color: #569cd6;">&lt;/button&gt;</span>

    <span style="color: #569cd6;">&lt;ul&gt;</span>
      <span style="color: #569cd6;">&lt;TodoItem</span>
        <span style="color: #9cdcfe;">v-for</span>=<span style="color: #ce9178;">"(todo, index) in todos"</span>
        <span style="color: #9cdcfe;">:key</span>=<span style="color: #ce9178;">"index"</span>
        <span style="color: #9cdcfe;">:item</span>=<span style="color: #ce9178;">"todo"</span>
        <span style="color: #9cdcfe;">:index</span>=<span style="color: #ce9178;">"index"</span>
        <span style="color: #9cdcfe;">@delete</span>=<span style="color: #ce9178;">"deleteTodo"</span>
      <span style="color: #569cd6;">/&gt;</span>
    <span style="color: #569cd6;">&lt;/ul&gt;</span>
  <span style="color: #569cd6;">&lt;/div&gt;</span>
<span style="color: #569cd6;">&lt;/template&gt;</span>

<span style="color: #569cd6;">&lt;script</span> <span style="color: #9cdcfe;">setup</span><span style="color: #569cd6;">&gt;</span>
<span style="color: #569cd6;">import</span> { <span style="color: #dcdcaa;">ref</span> } <span style="color: #569cd6;">from</span> <span style="color: #ce9178;">"vue"</span>;
<span style="color: #569cd6;">import</span> <span style="color: #4ec9b0;">TodoItem</span> <span style="color: #569cd6;">from</span> <span style="color: #ce9178;">"@/components/learnVue3/day2/TodoItem.vue"</span>;
<span style="color: #6a9955; font-style: italic;">// å®šç¾©'newTodo' ç‚ºæ–°å¢çš„é …ç›®</span>
<span style="color: #6a9955; font-style: italic;">// å®šç¾© 'todos' ç‚ºæ‰€æœ‰é …ç›®åˆ—è¡¨</span>
<span style="color: #569cd6;">const</span> <span style="color: #9cdcfe;">newTodo</span> = <span style="color: #dcdcaa;">ref</span>(<span style="color: #ce9178;">""</span>);
<span style="color: #569cd6;">const</span> <span style="color: #9cdcfe;">todos</span> = <span style="color: #dcdcaa;">ref</span>([]);

<span style="color: #569cd6;">function</span> <span style="color: #dcdcaa;">addTodo</span>() {
  <span style="color: #569cd6;">if</span> (<span style="color: #9cdcfe;">newTodo</span>.<span style="color: #9cdcfe;">value</span>.<span style="color: #dcdcaa;">trim</span>() !== <span style="color: #ce9178;">""</span>) {
    <span style="color: #9cdcfe;">todos</span>.<span style="color: #9cdcfe;">value</span>.<span style="color: #dcdcaa;">push</span>(<span style="color: #9cdcfe;">newTodo</span>.<span style="color: #9cdcfe;">value</span>.<span style="color: #dcdcaa;">trim</span>());
    <span style="color: #9cdcfe;">newTodo</span>.<span style="color: #9cdcfe;">value</span> = <span style="color: #ce9178;">""</span>;
  }
}

<span style="color: #6a9955; font-style: italic;">// ç”±å­çµ„ä»¶ emit è§¸ç™¼ @delete äº‹ä»¶</span>
<span style="color: #6a9955; font-style: italic;">// å†ç”± @delete è§¸ç™¼ deleteTodo äº‹ä»¶ä¸¦å°‡ emit @delete äº‹ä»¶ä¸­çš„åƒæ•¸ index å¸¶å…¥</span>
<span style="color: #569cd6;">function</span> <span style="color: #dcdcaa;">deleteTodo</span>(<span style="color: #9cdcfe;">index</span>) {
  <span style="color: #9cdcfe;">todos</span>.<span style="color: #9cdcfe;">value</span>.<span style="color: #dcdcaa;">splice</span>(<span style="color: #9cdcfe;">index</span>, <span style="color: #b5cea8;">1</span>);
  }
<span style="color: #569cd6;">&lt;/script&gt;</span>

<span style="color: #569cd6;">&lt;style</span> <span style="color: #9cdcfe;">scoped</span><span style="color: #569cd6;">&gt;</span>
<span style="color: #d7ba7d;">.todo</span> {
  <span style="color: #9cdcfe;">max-width</span>: <span style="color: #b5cea8;">400</span><span style="color: #b5cea8;">px</span>;
  <span style="color: #9cdcfe;">margin</span>: <span style="color: #569cd6;">auto</span>;
  <span style="color: #9cdcfe;">padding</span>: <span style="color: #b5cea8;">16</span><span style="color: #b5cea8;">px</span>;
}
<span style="color: #d7ba7d;">input</span> {
  <span style="color: #9cdcfe;">padding</span>: <span style="color: #b5cea8;">8</span><span style="color: #b5cea8;">px</span>;
  <span style="color: #9cdcfe;">width</span>: <span style="color: #b5cea8;">70</span><span style="color: #b5cea8;">%</span>;
  <span style="color: #9cdcfe;">margin-right</span>: <span style="color: #b5cea8;">8</span><span style="color: #b5cea8;">px</span>;
}
<span style="color: #d7ba7d;">button</span> {
  <span style="color: #9cdcfe;">padding</span>: <span style="color: #b5cea8;">8</span><span style="color: #b5cea8;">px</span> <span style="color: #b5cea8;">12</span><span style="color: #b5cea8;">px</span>;
}
<span style="color: #d7ba7d;">ul</span> {
  <span style="color: #9cdcfe;">list-style-type</span>: <span style="color: #569cd6;">none</span>;
  <span style="color: #9cdcfe;">padding</span>: <span style="color: #b5cea8;">0</span>;
}
<span style="color: #d7ba7d;">h2</span> {
  <span style="color: #9cdcfe;">color</span>: <span style="color: #b5cea8;">#42b983</span>;
}
<span style="color: #569cd6;">&lt;/style&gt;</span></code>
            </pre>
                     <strong>TodoItem.vue (å­çµ„ä»¶)</strong>
           <pre
             v-pre
             class="code-block bg-[#1e1e1e] rounded-lg p-4 overflow-x-auto text-sm mb-4 text-white"
           ><code><span style="color: #569cd6;">&lt;template&gt;</span>
  <span style="color: #569cd6;">&lt;li</span> <span style="color: #9cdcfe;">@click</span>=<span style="color: #ce9178;">"handleDelete"</span><span style="color: #569cd6;">&gt;</span>{{ <span style="color: #9cdcfe;">item</span> }}<span style="color: #569cd6;">&lt;/li&gt;</span>
<span style="color: #569cd6;">&lt;/template&gt;</span>

<span style="color: #569cd6;">&lt;script</span> <span style="color: #9cdcfe;">setup</span><span style="color: #569cd6;">&gt;</span>
<span style="color: #569cd6;">import</span> { <span style="color: #dcdcaa;">defineProps</span>, <span style="color: #dcdcaa;">defineEmits</span> } <span style="color: #569cd6;">from</span> <span style="color: #ce9178;">'vue'</span>
<span style="color: #6a9955; font-style: italic;">// å®šç¾©å¾çˆ¶çµ„ä»¶æ¥æ”¶åˆ°çš„åƒæ•¸</span>
<span style="color: #6a9955; font-style: italic;">//'item'ç‚ºä»£è¾¦äº‹é …; 'index'ç‚ºç¬¬ {{index}} å€‹ä»£è¾¦äº‹é …</span>
<span style="color: #569cd6;">const</span> <span style="color: #9cdcfe;">props</span> = <span style="color: #dcdcaa;">defineProps</span>({
  <span style="color: #9cdcfe;">item</span>: <span style="color: #4ec9b0;">String</span>,
  <span style="color: #9cdcfe;">index</span>: <span style="color: #4ec9b0;">Number</span>,
})

<span style="color: #6a9955; font-style: italic;">// å°‡å‚³å‡ºçš„äº‹ä»¶å®šç¾©åç¨±ç‚º'delete'</span>
<span style="color: #569cd6;">const</span> <span style="color: #9cdcfe;">emit</span> = <span style="color: #dcdcaa;">defineEmits</span>([<span style="color: #ce9178;">'delete'</span>])
<span style="color: #6a9955; font-style: italic;">// ä¸¦å°‡åƒæ•¸ 'index' å‚³çµ¦çˆ¶çµ„ä»¶</span>
<span style="color: #569cd6;">function</span> <span style="color: #dcdcaa;">handleDelete</span>() {
  <span style="color: #dcdcaa;">emit</span>(<span style="color: #ce9178;">'delete'</span>, <span style="color: #9cdcfe;">props</span>.<span style="color: #9cdcfe;">index</span>)
}
<span style="color: #569cd6;">&lt;/script&gt;</span>

<span style="color: #569cd6;">&lt;style</span> <span style="color: #9cdcfe;">scoped</span><span style="color: #569cd6;">&gt;</span>
<span style="color: #d7ba7d;">li</span> {
  <span style="color: #9cdcfe;">cursor</span>: <span style="color: #569cd6;">pointer</span>;
  <span style="color: #9cdcfe;">margin</span>: <span style="color: #b5cea8;">4</span><span style="color: #b5cea8;">px</span> <span style="color: #b5cea8;">0</span>;
}
<span style="color: #d7ba7d;">li:hover</span> {
  <span style="color: #9cdcfe;">text-decoration</span>: <span style="color: #569cd6;">line-through</span>;
  <span style="color: #9cdcfe;">color</span>: <span style="color: #569cd6;">gray</span>;
}
<span style="color: #569cd6;">&lt;/style&gt;</span></code>
           </pre>
        </div>
      </div>
    </div>
  </MobileOnly>
</template>

<script setup>
import { ref } from "vue";
import TodoItem from "@/components/learnVue3/day2/TodoItem.vue";
import MobileOnly from "@/components/MobileOnly.vue";

const newTodo = ref("");
const todos = ref([]);

function addTodo() {
  if (newTodo.value.trim() !== "") {
    todos.value.push(newTodo.value.trim());
    newTodo.value = "";
  }
}

function deleteTodo(index) {
  todos.value.splice(index, 1);
}
</script>

<style scoped>
.todo {
  max-width: 400px;
  margin: auto;
}
input {
  padding: 8px;
  width: 70%;
  margin-right: 8px;
}
button {
  padding: 8px 12px;
}
ul {
  list-style-type: none;
  padding: 0;
}
h3 {
  color: #42b983;
}
h3,
h2 {
  color: #42b983;
  margin-top: 10px;
}

p {
  padding-left: 20px;
}

</style>